import os
from dotenv import load_dotenv

from aiogram import Router, F
from aiogram.types import Message, FSInputFile

import app.keyboards as kb

program_training_router = Router()


# –ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
@program_training_router.message(F.text == "üí™ –ì–æ—Ç–æ–≤—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏")
async def free_program_training(message: Message):
    await message.answer("""
–°—É–ø–µ—Ä! –í–∞—à–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ —É–∂–µ –∂–¥—ë—Ç. –û–Ω–∞ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞, –∏ –≤—ã —Å–º–æ–∂–µ—Ç–µ –µ—ë –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å.

–û–¥–Ω–∞–∫–æ! –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç —É—á–∏—Ç—ã–≤–∞—Ç—å –≤–∞—à –ø–æ–ª, –≤–æ–∑—Ä–∞—Å—Ç, –¥–æ—Å—Ç—É–ø–Ω—ã–π –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å, —Ü–µ–ª–∏ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–¥–æ—Ä–æ–≤—å—è ‚Äî –ø—Ä–æ–π–¥–∏—Ç–µ –±—ã—Å—Ç—Ä—ã–π –æ–ø—Ä–æ—Å. –ú—ã literally –ø–æ–¥—Å—Ç—Ä–æ–∏–º –µ—ë –ø–æ–¥ –≤–∞—Å, –∏ –≤–∞–º –Ω–µ –ø—Ä–∏–¥—ë—Ç—Å—è –≥–∞–¥–∞—Ç—å, —á—Ç–æ –¥–µ–ª–∞—Ç—å.

–ü–æ—Ç—Ä–∞—Ç–∏—Ç—å 2 –º–∏–Ω—É—Ç—ã —Å–µ–π—á–∞—Å, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –∏–¥–µ–∞–ª—å–Ω—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É?
""", reply_markup=kb.free_programs_kb)
    

# –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Ñ–∞–π–ª —Å –±–µ—Å–ø–ª–∞—Ç–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–æ–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
@program_training_router.message(F.text == "–ù–µ—Ç, –≤ —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑")
async def post_free_program(message: Message):
    await message.answer("""
–•–æ—Ä–æ—à–æ, –¥–µ—Ä–∂–∏ —Ñ–∞–π–ª —Å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–æ–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –¥–ª—è –≤—Å–µ—Ö! üèãÔ∏è‚Äç‚ôÄÔ∏è

–í –Ω—ë–º –µ—Å—Ç—å –æ—Ç–ª–∏—á–Ω–∞—è –±–∞–∑–∞, —Å –∫–æ—Ç–æ—Ä–æ–π –º–æ–∂–Ω–æ –Ω–∞—á–∞—Ç—å.

–ê –µ—Å–ª–∏ –∑–∞—Ö–æ—á–µ—à—å –ø—Ä–æ–≥—Ä–∞–º–º—É, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç —É—á–∏—Ç—ã–≤–∞—Ç—å —Ç–≤–æ–∏ —Ü–µ–ª–∏, —Ç–≤–æ–π —É—Ä–æ–≤–µ–Ω—å, —Ç–≤–æ–π –≥—Ä–∞—Ñ–∏–∫ –∏ –∑–¥–æ—Ä–æ–≤—å–µ ‚Äî –ø—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏ –º–Ω–µ, –∏ –º—ã —Å–¥–µ–ª–∞–µ–º –µ—ë –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–π –ø–æ–¥ —Ç–µ–±—è.

–£–¥–∞—á–∏ –Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞—Ö! 
""")

    load_dotenv()
    FREE_PROGRAM=os.getenv("FREE_PROGRAM")
    file_path = FREE_PROGRAM

    # –ù—É–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Ñ–∞–π–ª –≤ –±–∏–Ω–∞—Ä–Ω–æ–º –≤–∏–¥–µ, —Ç.–∫. Aiogram —Ç—Ä–µ–±—É–µ—Ç —Ñ–∞–π–ª –∫–∞–∫ BufferedReader
    file = FSInputFile(file_path)
    await message.reply_document(file)